{% extends 'scraper_integration/base.html' %}


{% block content %}


{% if analysed_table %}
    <h4 class="text-end">Number of tables: {{num_of_tables}}/5</h4>
    {% for table in analysed_table %}
    <h4>{{table.table.name}}</h4>
    <p>{{table.table.creation_date}}</p>
    <form method="post">
        {% csrf_token %}
        <button class="btn btn-danger" name="table-id" value="{{table.table.id}}">Delete</button>
    </form>
    <table class="table">
        <thead class = "thead-dark">
            <tr>
                <th><th>Price</th>
                <th>Price_per_sq_m</th>
                <th>Sq_meters</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th class="col">Mean</th>
                <td>{{table.avg_price}}</td>
                <td>{{table.avg_price_per_sqm}}</td>
                <td>{{table.avg_sq_meter}}</td>
            </tr>
            <tr>
                <th class="col">Median</th>
                <td>{{table.median_price}}</td>
                <td>{{table.median_price_per_sqm}}</td>
                <td>{{table.median_sq_meter}}</td>
            </tr>
            <tr>
                <th class="col">Max</th>
                <td>{{table.max_price}}</td>
                <td>{{table.max_price_per_sqm}}</td>
                <td>{{table.max_sq_meter}}</td>
            </tr>
            <tr>
                <th class="col">Min</th>
                <td>{{table.min_price}}</td>
                <td>{{table.min_price_per_sqm}}</td>
                <td>{{table.min_sq_meter}}</td>
            </tr>
        </tbody>
    </table>
    {% endfor %}
{% else %}
<div class="d-flex justify-content-center align-items-center" style="height: 100vh;">
    <h4 class="text-center align-middle">You dont have any tables yet!</h4>
</div>
{% endif %}
{% endblock %}